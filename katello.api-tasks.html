<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>katello.api-tasks documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Katello.auto 1.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="katello.activation-keys.html"><span>katello.activation-keys</span></a></li><li class="current"><a href="katello.api-tasks.html"><span>katello.api-tasks</span></a></li><li><a href="katello.changesets.html"><span>katello.changesets</span></a></li><li><a href="katello.client.html"><span>katello.client</span></a></li><li><a href="katello.client.provision.html"><span>katello.client.provision</span></a></li><li><a href="katello.conf.html"><span>katello.conf</span></a></li><li><a href="katello.content-search.html"><span>katello.content-search</span></a></li><li><a href="katello.environments.html"><span>katello.environments</span></a></li><li><a href="katello.fake-content.html"><span>katello.fake-content</span></a></li><li><a href="katello.gpg-keys.html"><span>katello.gpg-keys</span></a></li><li><a href="katello.login.html"><span>katello.login</span></a></li><li><a href="katello.manifest.html"><span>katello.manifest</span></a></li><li><a href="katello.menu.html"><span>katello.menu</span></a></li><li><a href="katello.navigation.html"><span>katello.navigation</span></a></li><li><a href="katello.notifications.html"><span>katello.notifications</span></a></li><li><a href="katello.organizations.html"><span>katello.organizations</span></a></li><li><a href="katello.package-filters.html"><span>katello.package-filters</span></a></li><li><a href="katello.providers.html"><span>katello.providers</span></a></li><li><a href="katello.repositories.html"><span>katello.repositories</span></a></li><li><a href="katello.rest.html"><span>katello.rest</span></a></li><li><a href="katello.roles.html"><span>katello.roles</span></a></li><li><a href="katello.setup.html"><span>katello.setup</span></a></li><li><a href="katello.subscriptions.html"><span>katello.subscriptions</span></a></li><li><a href="katello.sync-management.html"><span>katello.sync-management</span></a></li><li><a href="katello.system-groups.html"><span>katello.system-groups</span></a></li><li><a href="katello.system-templates.html"><span>katello.system-templates</span></a></li><li><a href="katello.systems.html"><span>katello.systems</span></a></li><li><a href="katello.tasks.html"><span>katello.tasks</span></a></li><li><a href="katello.tests.content-search.html"><span>katello.tests.content-search</span></a></li><li><a href="katello.tests.e2e.html"><span>katello.tests.e2e</span></a></li><li><a href="katello.tests.environments.html"><span>katello.tests.environments</span></a></li><li><a href="katello.tests.login.html"><span>katello.tests.login</span></a></li><li><a href="katello.tests.navigation.html"><span>katello.tests.navigation</span></a></li><li><a href="katello.tests.organizations.html"><span>katello.tests.organizations</span></a></li><li><a href="katello.tests.permissions.html"><span>katello.tests.permissions</span></a></li><li><a href="katello.tests.promotions.html"><span>katello.tests.promotions</span></a></li><li><a href="katello.tests.providers.html"><span>katello.tests.providers</span></a></li><li><a href="katello.tests.providers.custom.html"><span>katello.tests.providers.custom</span></a></li><li><a href="katello.tests.providers.redhat.html"><span>katello.tests.providers.redhat</span></a></li><li><a href="katello.tests.search.html"><span>katello.tests.search</span></a></li><li><a href="katello.tests.suite.html"><span>katello.tests.suite</span></a></li><li><a href="katello.tests.sync_management.html"><span>katello.tests.sync_management</span></a></li><li><a href="katello.tests.systems.html"><span>katello.tests.systems</span></a></li><li><a href="katello.tests.templates.html"><span>katello.tests.templates</span></a></li><li><a href="katello.tests.users.html"><span>katello.tests.users</span></a></li><li><a href="katello.ui.html"><span>katello.ui</span></a></li><li><a href="katello.ui-common.html"><span>katello.ui-common</span></a></li><li><a href="katello.users.html"><span>katello.users</span></a></li><li><a href="katello.validation.html"><span>katello.validation</span></a></li><li><a href="selenium-server.html"><span>selenium-server</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="katello.api-tasks.html#var-all-entities"><span>all-entities</span></a></li><li><a href="katello.api-tasks.html#var-assoc-if-set"><span>assoc-if-set</span></a></li><li><a href="katello.api-tasks.html#var-create-changeset"><span>create-changeset</span></a></li><li><a href="katello.api-tasks.html#var-ensure-env-exist"><span>ensure-env-exist</span></a></li><li><a href="katello.api-tasks.html#var-katello-only"><span>katello-only</span></a></li><li><a href="katello.api-tasks.html#var-promote"><span>promote</span></a></li><li><a href="katello.api-tasks.html#var-promote-changeset"><span>promote-changeset</span></a></li><li><a href="katello.api-tasks.html#var-random-facts"><span>random-facts</span></a></li><li><a href="katello.api-tasks.html#var-uri-for-entity-type"><span>uri-for-entity-type</span></a></li><li><a href="katello.api-tasks.html#var-with-env"><span>with-env</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>katello.api-tasks documentation</h2><pre class="doc"></pre><div class="public" id="var-all-entities"><h3>all-entities</h3><div class="usage"><code>(all-entities entity-type)</code></div><pre class="doc">Returns a list of all the entities of the given entity-type. If
that entity type is part of an org, or environment or product,
those vars must be bound (see with-* macros)</pre></div><div class="public" id="var-assoc-if-set"><h3>assoc-if-set</h3><div class="usage"><code>(assoc-if-set m newmap)</code></div><pre class="doc">Adds to map m just the entries from newmap where the value is not nil.
</pre></div><div class="public" id="var-create-changeset"><h3>create-changeset</h3><div class="usage"><code>(create-changeset name &amp; [{:keys [type]}])</code></div><pre class="doc">Creates a changeset. type defaults to 'PROMOTION', can also be
'DELETION'.</pre></div><div class="public" id="var-ensure-env-exist"><h3>ensure-env-exist</h3><div class="usage"><code>(ensure-env-exist name {:keys [prior]})</code></div><pre class="doc">If an environment with the given name and prior environment doesn't
exist, create it.</pre></div><div class="public" id="var-katello-only"><h3>katello-only</h3><div class="usage"><code>(katello-only _)</code></div><pre class="doc">A function you can call from :blockers of any test so it will skip
if run against a non-katello (eg SAM or headpin) deployment</pre></div><div class="public" id="var-promote"><h3>promote</h3><div class="usage"><code>(promote content)</code></div><pre class="doc">Does a promotion of the given content (creates a changeset, adds
the content, and promotes it. Content should match the JSON format
that the API expects. currently like {:product_id '1234567890'}</pre></div><div class="public" id="var-promote-changeset"><h3>promote-changeset</h3><div class="usage"><code>(promote-changeset changeset-name)</code></div><pre class="doc">Promotes a changeset, polls the API until the promotion completes,
and returns the changeset. If the timeout is hit before the
promotion completes, throws an exception.</pre></div><div class="public" id="var-random-facts"><h3>random-facts</h3><div class="usage"><code>(random-facts)</code></div><pre class="doc">Generate facts about a system - used to register fake systems via
the api. Some facts are randomized to guarantee uniqueness.</pre></div><div class="public" id="var-uri-for-entity-type"><h3>uri-for-entity-type</h3><div class="usage"><code>(uri-for-entity-type entity-type)</code></div><pre class="doc">Returns the proper GET uri given the katello entity type (a
keyword, eg. :environment). May require some vars be bound, for
example, to get an environment from the API an org must be set. See
with-* macros in this namespace.</pre></div><div class="public" id="var-with-env"><h3>with-env</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-env env-name &amp; body)</code></div><pre class="doc">Executes body and makes any included katello api calls using the
given environment name (it's id will be looked up before executing
body).</pre></div></div></body></html>